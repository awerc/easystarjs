/*!
 * @license
 * The MIT License (MIT)
 *
 * Copyright (c) 2012-2020 Bryce Neal
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var EasyStar;(()=>{var r={824:(t,n,e)=>{function I(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var r,o,i,s,u=[],a=!0,l=!1;try{if(i=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;a=!1}else for(;!(a=(r=i.call(e)).done)&&(u.push(r.value),u.length!==n);a=!0);}catch(t){l=!0,o=t}finally{try{if(!a&&null!=e.return&&(s=e.return(),Object(s)!==s))return}finally{if(l)throw o}}return u}}(t,n)||function(t,n){var e;if(t)return"string"==typeof t?r(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}var C={},L=e(416),D=e(296),G=e(543),Y=e(272),e=e(528),o=e.compressPath,i=e.smoothenPath,s=e.expandPath,e=e.interpolate,j=(t.exports=C,1);C.js=function(){function i(t,n,e,r,o){var i=g[r]&&g[r][e];return void 0!==i?0<(H(o.x-e,o.y-r)&i):(i=(o=I(F(e,r),2))[0],e=o[1],-1!==n.indexOf(t[e][i]))}function s(t,n){return t=I(F(t,n),2),n=t[0],t=t[1],o[t]&&o[t][n]||r[h[t][n]]}function u(t,n){return e[1+n][1+t]}function c(t,n,e,r,o){if(void 0!==t.nodeHash[e]){if(void 0!==t.nodeHash[e][n])return t.nodeHash[e][n]}else t.nodeHash[e]={};u=n,l=e,s=t.endX,a=t.endY,c=Math.abs(u-s),i=Math.abs(l-a),O&&(c=Math.min(c,u-s+f,s-u+f),i=Math.min(i,l-a+p,a-l+p));var i,s=M?S*E(c,i):S*w(c,i),u="NONE",a=0,l=null!==r?(u=H(n-r.x,e-r.y),r.directionFromParent!==u&&(a=P),r.costSoFar+o+a):0,c=new G(r,n,e,l,s,u);return t.nodeHash[e][n]=c}function a(t,n,e,r,o){var r=(e=I(F(n.x+e,n.y+r),2))[0],e=e[1];void 0!==x[e]&&void 0!==x[e][r]||!i(h,y,r,e,n)||(void 0===(r=c(t,r,e,n,o)).list?(r.list=1,t.openList.push(r)):n.costSoFar+o<r.costSoFar&&(r.costSoFar=n.costSoFar+o,r.parent=n,t.openList.updateItem(r)))}var h,f,p,l,y,d=Math.SQRT2,v=!1,x={},r={},o={},g={},m=!0,b={},T=[],A=Number.MAX_VALUE,M=!1,O=!1,P=0,S=1,w=Y.manhattan,E=Y.octile,e=[[1,1,1],[1,0,1],[1,1,1]],F=(this.setAcceptableTiles=function(t){t instanceof Array?y=t:!Number.isNaN(parseFloat(t))&&Number.isFinite(t)&&(y=[t])},this.enableSync=function(){v=!0},this.disableSync=function(){v=!1},this.enableDiagonals=function(){M=!0},this.disableDiagonals=function(){M=!1},this.enableTorus=function(){O=!0},this.disableTorus=function(){O=!1},this.setGrid=function(t){f=(h=t)[0].length,p=t.length;for(var n=0;n<p;n++)for(var e=0;e<f;e++)r[h[n][e]]||(r[h[n][e]]=1)},this.setTileCost=function(t,n){r[t]=n},this.setAdditionalPointCost=function(t,n,e){void 0===o[n]&&(o[n]={}),o[n][t]=e},this.removeAdditionalPointCost=function(t,n){void 0!==o[n]&&delete o[n][t]},this.removeAllAdditionalPointCosts=function(){o={}},this.setDirectionalCondition=function(t,n,e){void 0===g[n]&&(g[n]={}),g[n][t]=e.map(function(t){return 0|t}).reduce(function(t,n){return t|n},0)},this.removeAllDirectionalConditions=function(){g={}},this.setIterationsPerCalculation=function(t){A=t},this.setHeuristics=function(t,n){w=t||Y.manhattan,E=n||Y.euclidean},this.setDirectionCosts=function(t){e=t||e},this.avoidAdditionalPoint=function(t,n){void 0===x[n]&&(x[n]={}),x[n][t]=1},this.stopAvoidingAdditionalPoint=function(t,n){void 0!==x[n]&&delete x[n][t]},this.enableCornerCutting=function(){m=!0},this.disableCornerCutting=function(){m=!1},this.stopAvoidingAllAdditionalPoints=function(){x={}},this.setHeuristicsFactor=function(t){S=t},this.setTurnPenalty=function(t){P=t},function(t,n){return O?[(t+f)%f,(n+p)%p]:[t,n]}),H=function(n,e){function r(t,n,e){return t===e||O&&(1-n)*t===e}function t(t){return r(t,f,n)}function o(t){return r(t,p,e)}if(t(0)&&o(-1))return C.TOP;if(t(1)&&o(-1))return C.TOP_RIGHT;if(t(1)&&o(0))return C.RIGHT;if(t(1)&&o(1))return C.BOTTOM_RIGHT;if(t(0)&&o(1))return C.BOTTOM;if(t(-1)&&o(1))return C.BOTTOM_LEFT;if(t(-1)&&o(0))return C.LEFT;if(t(-1)&&o(-1))return C.TOP_LEFT;throw new Error("These differences are not valid: ".concat(n,", ").concat(e))};this.findPath=function(t,n,e,r,o){function i(t){v?o(t):setTimeout(function(){o(t)})}t=I(F(t,n),2),n=t[0],t=t[1],e=I(F(e,r),2),r=e[0],e=e[1];if(void 0===y)throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar.");if(void 0===h)throw new Error("You can't set a path without first calling setGrid() on EasyStar.");if(n<0||t<0||r<0||e<0||f-1<n||p-1<t||f-1<r||p-1<e)throw new Error("Your start or end point is outside the scope of your grid.");if(n===r&&t===e)i([]);else{for(var s,u=h[e][r],a=!1,l=0;l<y.length;l++)if(u===y[l]){a=!0;break}if(!1!==a)return(s=new D).openList=new L(function(t,n){return t.bestGuessDistance()-n.bestGuessDistance()}),s.isDoneCalculating=!1,s.nodeHash={},s.startX=n,s.startY=t,s.endX=r,s.endY=e,s.callback=i,s.openList.push(c(s,s.startX,s.startY,null,1)),n=j++,b[n]=s,T.push(n),n;i(null)}},this.cancelPath=function(t){return t in b&&(delete b[t],!0)},this.calculate=function(){if(0!==T.length&&void 0!==h&&void 0!==y)for(l=0;l<A;l++){if(0===T.length)return;v&&(l=0);var t=T[0],n=b[t];if(void 0===n)T.shift();else if(0===n.openList.size())n.callback(null),delete b[t],T.shift();else{var e=n.openList.pop();if(n.endX===e.x&&n.endY===e.y){for(var r=[],o=(r.push({x:e.x,y:e.y}),e.parent);null!=o;)r.push({x:o.x,y:o.y}),o=o.parent;r.reverse(),n.callback(r),delete b[t],T.shift()}else((e.list=0)<e.y||O)&&(t=u(0,-1),a(n,e,0,-1,+t*s(e.x,e.y-1))),(e.x<f-1||O)&&(t=u(1,0),a(n,e,1,0,+t*s(e.x+1,e.y))),(e.y<p-1||O)&&(t=u(0,1),a(n,e,0,1,+t*s(e.x,e.y+1))),(0<e.x||O)&&(t=u(-1,0),a(n,e,-1,0,+t*s(e.x-1,e.y))),M&&((0<e.x&&0<e.y||O)&&(m||i(h,y,e.x,e.y-1,e)&&i(h,y,e.x-1,e.y,e))&&(t=u(-1,-1),a(n,e,-1,-1,d*t*s(e.x-1,e.y-1))),(e.x<f-1&&e.y<p-1||O)&&(m||i(h,y,e.x,e.y+1,e)&&i(h,y,e.x+1,e.y,e))&&(t=u(1,1),a(n,e,1,1,d*t*s(e.x+1,e.y+1))),(e.x<f-1&&0<e.y||O)&&(m||i(h,y,e.x,e.y-1,e)&&i(h,y,e.x+1,e.y,e))&&(t=u(1,-1),a(n,e,1,-1,d*t*s(e.x+1,e.y-1))),0<e.x&&e.y<p-1||O)&&(m||i(h,y,e.x,e.y+1,e)&&i(h,y,e.x-1,e.y,e))&&(t=u(-1,1),a(n,e,-1,1,d*t*s(e.x-1,e.y+1)))}}}},C.TOP=1,C.TOP_RIGHT=2,C.RIGHT=4,C.BOTTOM_RIGHT=8,C.BOTTOM=16,C.BOTTOM_LEFT=32,C.LEFT=64,C.TOP_LEFT=128,C.Heuristics=Y,C.compressPath=o,C.smoothenPath=i,C.expandPath=s,C.interpolate=e},272:t=>{t.exports={manhattan:function(t,n){return t+n},euclidean:function(t,n){return Math.sqrt(t*t+n*n)},octile:function(t,n){var e=Math.SQRT2-1;return t<n?e*t+n:e*n+t},chebyshev:function(t,n){return Math.max(t,n)}}},296:t=>{t.exports=function(){this.pointsToAvoid={},this.startX=void 0,this.callback=void 0,this.startY=void 0,this.endX=void 0,this.endY=void 0,this.nodeHash={},this.openList=void 0}},543:t=>{function n(t,n,e,r,o,i){this.parent=t,this.x=n,this.y=e,this.costSoFar=r,this.simpleDistanceToTarget=o,this.directionFromParent=i}n.prototype.bestGuessDistance=function(){return this.costSoFar+this.simpleDistanceToTarget},t.exports=n},528:(t,n)=>{function x(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){var e;if(t)return"string"==typeof t?r(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(t,n):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,r=new Array(n);e<n;e++)r[e]=t[e];return r}function g(t,n,e,r){for(var o,i=t,s=n,t=Math.abs,u=[],a=t(e-i),l=t(r-s),c=i<e?1:-1,h=s<r?1:-1,f=a-l;u.push({x:i,y:s}),i!==e||s!==r;)-l<(o=2*f)&&(f-=l,i+=c),o<a&&(f+=a,s+=h);return u}n.interpolate=g,n.expandPath=function(t){var n,e,r,o,i,s,u=[],a=t.length;if(!(a<2)){for(i=0;i<a-1;++i)for(n=t[i],e=t[i+1],o=(r=g(n.x,n.y,e.x,e.y)).length,s=0;s<o-1;++s)u.push(r[s]);u.push(t[a-1])}return u},n.smoothenPath=function(n,t,e,r){for(var o=x(t),i=1;i<o.length-1;i++)for(var s=(u=o[i-1]).x,u=u.y,a=(l=o[i]).x,l=l.y,c=a-s,h=l-u,f={x:a+c,y:l+h},p=i+2;p<o.length;p++){var y=o[p],d=f.x-y.x,v=f.y-y.y;if(!(f.x!==y.x&&f.y!==y.y&&Math.abs(d)!==Math.abs(v)||Math.sign(c*h)*Math.sign(d*v)==-1||0===Math.sign(c*h)&&0===Math.sign(d*v))){d=g(f.x,f.y,y.x,y.y);if(d.length===p-i&&d.every(function(t){return e.includes(n[t.y][t.x])})){o.splice.apply(o,[i+1,d.length].concat(x(d)));break}}}return o},n.compressPath=function(t){if(t.length<3)return t;var n,e,r,o,i,s=[],u=t[0].x,a=t[0].y,l=t[1].x,c=t[1].y,h=l-u,f=c-a,p=Math.sqrt(h*h+f*f);for(h/=p,f/=p,s.push({x:u,y:a}),i=2;i<t.length;i++)n=l,e=c,r=h,o=f,h=(l=t[i].x)-n,f=(c=t[i].y)-e,f/=p=Math.sqrt(h*h+f*f),(h/=p)===r&&f===o||s.push({x:n,y:e});return s.push({x:l,y:c}),s}},416:(t,n,e)=>{t.exports=e(328)},328:function(u,x){var g,m;!function(){var t,f,a,p,y,n,l,e,d,v,r,o,i,c,h;function s(t){this.cmp=null!=t?t:f,this.nodes=[]}a=Math.floor,v=Math.min,f=function(t,n){return t<n?-1:n<t?1:0},d=function(t,n,e,r,o){var i;if(null==o&&(o=f),(e=null==e?0:e)<0)throw new Error("lo must be non-negative");for(null==r&&(r=t.length);e<r;)o(n,t[i=a((e+r)/2)])<0?r=i:e=i+1;return[].splice.apply(t,[e,e-e].concat(n)),n},y=function(t,n){var e,r;return null==n&&(n=f),e=t.pop(),t.length?(r=t[0],t[0]=e,h(t,0,n)):r=e,r},e=function(t,n,e){var r;return null==e&&(e=f),r=t[0],t[0]=n,h(t,0,e),r},l=function(t,n,e){var r;return null==e&&(e=f),t.length&&e(t[0],n)<0&&(n=(r=[t[0],n])[0],t[0]=r[1],h(t,0,e)),n},p=function(e,t){var n,r,o,i,s,u;for(null==t&&(t=f),s=[],r=0,o=(i=function(){u=[];for(var t=0,n=a(e.length/2);0<=n?t<n:n<t;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;r<o;r++)n=i[r],s.push(h(e,n,t));return s},i=function(t,n,e){if(null==e&&(e=f),-1!==(n=t.indexOf(n)))return c(t,0,n,e),h(t,n,e)},r=function(t,n,e){var r,o,i,s,u;if(null==e&&(e=f),!(o=t.slice(0,n)).length)return o;for(p(o,e),i=0,s=(u=t.slice(n)).length;i<s;i++)r=u[i],l(o,r,e);return o.sort(e).reverse()},o=function(t,n,e){var r,o,i,s,u,a,l,c,h;if(null==e&&(e=f),10*n<=t.length){if((i=t.slice(0,n).sort(e)).length)for(o=i[i.length-1],s=0,a=(l=t.slice(n)).length;s<a;s++)e(r=l[s],o)<0&&(d(i,r,0,null,e),i.pop(),o=i[i.length-1]);return i}for(p(t,e),h=[],u=0,c=v(n,t.length);0<=c?u<c:c<u;0<=c?++u:--u)h.push(y(t,e));return h},c=function(t,n,e,r){var o,i,s;for(null==r&&(r=f),o=t[e];n<e&&r(o,i=t[s=e-1>>1])<0;)t[e]=i,e=s;return t[e]=o},h=function(t,n,e){var r,o,i,s,u;for(null==e&&(e=f),o=t.length,i=t[u=n],r=2*n+1;r<o;)(s=r+1)<o&&!(e(t[r],t[s])<0)&&(r=s),t[n]=t[r],r=2*(n=r)+1;return t[n]=i,c(t,u,n,e)},s.push=n=function(t,n,e){return null==e&&(e=f),t.push(n),c(t,0,t.length-1,e)},s.pop=y,s.replace=e,s.pushpop=l,s.heapify=p,s.updateItem=i,s.nlargest=r,s.nsmallest=o,s.prototype.push=function(t){return n(this.nodes,t,this.cmp)},s.prototype.pop=function(){return y(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},s.prototype.replace=function(t){return e(this.nodes,t,this.cmp)},s.prototype.pushpop=function(t){return l(this.nodes,t,this.cmp)},s.prototype.heapify=function(){return p(this.nodes,this.cmp)},s.prototype.updateItem=function(t){return i(this.nodes,t,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return 0===this.nodes.length},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var t=new s;return t.nodes=this.nodes.slice(0),t},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,t=s,m=[],void 0!==(m="function"==typeof(g=function(){return t})?g.apply(x,m):g)&&(u.exports=m)}.call(this)}},o={};var t=function t(n){var e=o[n];return void 0===e&&(e=o[n]={exports:{}},r[n].call(e.exports,e,e.exports,t)),e.exports}(824);EasyStar=t})();