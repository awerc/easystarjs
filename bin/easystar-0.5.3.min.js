/*!
 * @license
 * The MIT License (MIT)
 *
 * Copyright (c) 2012-2020 Bryce Neal
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var EasyStar;(()=>{var o={824:(t,n,e)=>{var H={},A=e(416),L=e(296),w=e(543),G=e(272),e=e(528),o=e.compressPath,i=e.smoothenPath,e=e.expandPath,S=(t.exports=H,1);H.js=function(){function r(t,n,e,o,i){var r=v[o]&&v[o][e];if(r){var s=M(i.x-e,i.y-o);if(!function(){for(var t=0;t<r.length;t++)if(r[t]===s)return!0;return!1}())return}for(var u=0;u<n.length;u++)if(t[o][e]===n[u])return 1}function s(t,n){return i[n]&&i[n][t]||o[c[n][t]]}function u(t,n){return e[1+n][1+t]}function l(t,n,e,o,i){if(void 0!==t.nodeHash[e]){if(void 0!==t.nodeHash[e][n])return t.nodeHash[e][n]}else t.nodeHash[e]={};var r=function(t,n,e,o){t=Math.abs(t-e),e=Math.abs(n-o);return O?b*E(t,e):b*F(t,e)}(n,e,t.endX,t.endY),s=0,u="NONE",a=0,s=null!==o?(u=M(n-o.x,e-o.y),o.directionFromParent!==u&&(a=P),o.costSoFar+i+a):0,i=new w(o,n,e,s,r,u);return t.nodeHash[e][n]=i}function a(t,n,e,o,i){var e=n.x+e,o=n.y+o;void 0!==y[o]&&void 0!==y[o][e]||!r(c,f,e,o,n)||(void 0===(e=l(t,e,o,n,i)).list?(e.list=1,t.openList.push(e)):n.costSoFar+i<e.costSoFar&&(e.costSoFar=n.costSoFar+i,e.parent=n,t.openList.updateItem(e)))}var c,h,f,p=1.00000001,d=!1,y={},o={},i={},v={},x=!0,T={},g=[],m=Number.MAX_VALUE,O=!1,P=0,b=1,F=G.manhattan,E=G.octile,e=[[1,1,1],[1,0,1],[1,1,1]],M=(this.setAcceptableTiles=function(t){t instanceof Array?f=t:!Number.isNaN(parseFloat(t))&&Number.isFinite(t)&&(f=[t])},this.enableSync=function(){d=!0},this.disableSync=function(){d=!1},this.enableDiagonals=function(){O=!0},this.disableDiagonals=function(){O=!1},this.setGrid=function(t){c=t;for(var n=0;n<c.length;n++)for(var e=0;e<c[0].length;e++)o[c[n][e]]||(o[c[n][e]]=1)},this.setTileCost=function(t,n){o[t]=n},this.setAdditionalPointCost=function(t,n,e){void 0===i[n]&&(i[n]={}),i[n][t]=e},this.removeAdditionalPointCost=function(t,n){void 0!==i[n]&&delete i[n][t]},this.removeAllAdditionalPointCosts=function(){i={}},this.setDirectionalCondition=function(t,n,e){void 0===v[n]&&(v[n]={}),v[n][t]=e},this.removeAllDirectionalConditions=function(){v={}},this.setIterationsPerCalculation=function(t){m=t},this.setHeuristics=function(t,n){F=t||G.manhattan,E=n||G.euclidean},this.setDirectionCosts=function(t){e=t||e},this.avoidAdditionalPoint=function(t,n){void 0===y[n]&&(y[n]={}),y[n][t]=1},this.stopAvoidingAdditionalPoint=function(t,n){void 0!==y[n]&&delete y[n][t]},this.enableCornerCutting=function(){x=!0},this.disableCornerCutting=function(){x=!1},this.stopAvoidingAllAdditionalPoints=function(){y={}},this.setHeuristicsFactor=function(t){b=t},this.setTurnPenalty=function(t){P=t},function(t,n){if(0===t&&-1===n)return H.TOP;if(1===t&&-1===n)return H.TOP_RIGHT;if(1===t&&0===n)return H.RIGHT;if(1===t&&1===n)return H.BOTTOM_RIGHT;if(0===t&&1===n)return H.BOTTOM;if(-1===t&&1===n)return H.BOTTOM_LEFT;if(-1===t&&0===n)return H.LEFT;if(-1===t&&-1===n)return H.TOP_LEFT;throw new Error("These differences are not valid: ".concat(t,", ").concat(n))});this.findPath=function(t,n,e,o,i){function r(t){d?i(t):setTimeout(function(){i(t)})}if(void 0===f)throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar.");if(void 0===c)throw new Error("You can't set a path without first calling setGrid() on EasyStar.");if(t<0||n<0||e<0||o<0||t>c[0].length-1||n>c.length-1||e>c[0].length-1||o>c.length-1)throw new Error("Your start or end point is outside the scope of your grid.");if(t===e&&n===o)r([]);else{for(var s,u=c[o][e],a=!1,h=0;h<f.length;h++)if(u===f[h]){a=!0;break}if(!1!==a)return(s=new L).openList=new A(function(t,n){return t.bestGuessDistance()-n.bestGuessDistance()}),s.isDoneCalculating=!1,s.nodeHash={},s.startX=t,s.startY=n,s.endX=e,s.endY=o,s.callback=r,s.openList.push(l(s,s.startX,s.startY,null,1)),t=S++,T[t]=s,g.push(t),t;r(null)}},this.cancelPath=function(t){return t in T&&(delete T[t],!0)},this.calculate=function(){if(0!==g.length&&void 0!==c&&void 0!==f)for(h=0;h<m;h++){if(0===g.length)return;d&&(h=0);var t=g[0],n=T[t];if(void 0===n)g.shift();else if(0===n.openList.size())n.callback(null),delete T[t],g.shift();else{var e=n.openList.pop();if(n.endX===e.x&&n.endY===e.y){for(var o=[],i=(o.push({x:e.x,y:e.y}),e.parent);null!=i;)o.push({x:i.x,y:i.y}),i=i.parent;o.reverse(),n.callback(o),delete T[t],g.shift()}else(e.list=0)<e.y&&(t=u(0,-1),a(n,e,0,-1,+t*s(e.x,e.y-1))),e.x<c[0].length-1&&(t=u(1,0),a(n,e,1,0,+t*s(e.x+1,e.y))),e.y<c.length-1&&(t=u(0,1),a(n,e,0,1,+t*s(e.x,e.y+1))),0<e.x&&(t=u(-1,0),a(n,e,-1,0,+t*s(e.x-1,e.y))),O&&(0<e.x&&0<e.y&&(x||r(c,f,e.x,e.y-1,e)&&r(c,f,e.x-1,e.y,e))&&(t=u(-1,-1),a(n,e,-1,-1,p*t*s(e.x-1,e.y-1))),e.x<c[0].length-1&&e.y<c.length-1&&(x||r(c,f,e.x,e.y+1,e)&&r(c,f,e.x+1,e.y,e))&&(t=u(1,1),a(n,e,1,1,p*t*s(e.x+1,e.y+1))),e.x<c[0].length-1&&0<e.y&&(x||r(c,f,e.x,e.y-1,e)&&r(c,f,e.x+1,e.y,e))&&(t=u(1,-1),a(n,e,1,-1,p*t*s(e.x+1,e.y-1))),0<e.x)&&e.y<c.length-1&&(x||r(c,f,e.x,e.y+1,e)&&r(c,f,e.x-1,e.y,e))&&(t=u(-1,1),a(n,e,-1,1,p*t*s(e.x-1,e.y+1)))}}}},H.TOP="TOP",H.TOP_RIGHT="TOP_RIGHT",H.RIGHT="RIGHT",H.BOTTOM_RIGHT="BOTTOM_RIGHT",H.BOTTOM="BOTTOM",H.BOTTOM_LEFT="BOTTOM_LEFT",H.LEFT="LEFT",H.TOP_LEFT="TOP_LEFT",H.Heuristics=G,H.compressPath=o,H.smoothenPath=i,H.expandPath=e},272:t=>{t.exports={manhattan:function(t,n){return t+n},euclidean:function(t,n){return Math.sqrt(t*t+n*n)},octile:function(t,n){var e=Math.SQRT2-1;return t<n?e*t+n:e*n+t},chebyshev:function(t,n){return Math.max(t,n)}}},296:t=>{t.exports=function(){this.pointsToAvoid={},this.startX=void 0,this.callback=void 0,this.startY=void 0,this.endX=void 0,this.endY=void 0,this.nodeHash={},this.openList=void 0}},543:t=>{t.exports=function(t,n,e,o,i,r){this.parent=t,this.x=n,this.y=e,this.costSoFar=o,this.simpleDistanceToTarget=i,this.directionFromParent=r,this.bestGuessDistance=function(){return this.costSoFar+this.simpleDistanceToTarget}}},528:(t,n)=>{function x(t,n,e,o){for(var i,r=Math.abs,s=[],u=r(e-t),a=r(o-n),h=t<e?1:-1,l=n<o?1:-1,c=u-a;s.push({x:t,y:n}),t!==e||n!==o;)-a<(i=2*c)&&(c-=a,t+=h),i<u&&(c+=u,n+=l);return s}n.interpolate=x,n.expandPath=function(t){var n,e,o,i,r,s,u=[],a=t.length;if(!(a<2)){for(r=0;r<a-1;++r)for(n=t[r],e=t[r+1],i=(o=x(n.x,n.y,e.x,e.y)).length,s=0;s<i-1;++s)u.push(o[s]);u.push(t[a-1])}return u},n.smoothenPath=function(t,n,e){for(var o,i,r,s,u,a=n.length,h=n[0].x,l=n[0].y,c=n[a-1].x,f=n[a-1].y,p=h,d=l,y=[{x:p,y:d}],v=2;v<a;++v){for(i=x(p,d,(u=n[v]).x,u.y),s=!1,o=1;o<i.length;++o)if(r=i[o],-1===e.indexOf(t[r.x][r.y])){s=!0;break}s&&(u=n[v-1],y.push(u),p=u.x,d=u.y)}return y.push({x:c,y:f}),y},n.compressPath=function(t){if(t.length<3)return t;var n,e,o,i,r,s=[],u=t[0].x,a=t[0].y,h=t[1].x,l=t[1].y,c=h-u,f=l-a,p=Math.sqrt(c*c+f*f);for(c/=p,f/=p,s.push({x:u,y:a}),r=2;r<t.length;r++)n=h,e=l,o=c,i=f,c=(h=t[r].x)-n,f=(l=t[r].y)-e,f/=p=Math.sqrt(c*c+f*f),(c/=p)===o&&f===i||s.push({x:n,y:e});return s.push({x:h,y:l}),s}},416:(t,n,e)=>{t.exports=e(328)},328:function(u,x){var T,g;!function(){var t,f,a,p,d,n,h,e,y,v,o,i,r,l,c;function s(t){this.cmp=null!=t?t:f,this.nodes=[]}a=Math.floor,v=Math.min,f=function(t,n){return t<n?-1:n<t?1:0},y=function(t,n,e,o,i){var r;if(null==i&&(i=f),(e=null==e?0:e)<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);e<o;)i(n,t[r=a((e+o)/2)])<0?o=r:e=r+1;return[].splice.apply(t,[e,e-e].concat(n)),n},d=function(t,n){var e,o;return null==n&&(n=f),e=t.pop(),t.length?(o=t[0],t[0]=e,c(t,0,n)):o=e,o},e=function(t,n,e){var o;return null==e&&(e=f),o=t[0],t[0]=n,c(t,0,e),o},h=function(t,n,e){var o;return null==e&&(e=f),t.length&&e(t[0],n)<0&&(n=(o=[t[0],n])[0],t[0]=o[1],c(t,0,e)),n},p=function(e,t){var n,o,i,r,s,u;for(null==t&&(t=f),s=[],o=0,i=(r=function(){u=[];for(var t=0,n=a(e.length/2);0<=n?t<n:n<t;0<=n?t++:t--)u.push(t);return u}.apply(this).reverse()).length;o<i;o++)n=r[o],s.push(c(e,n,t));return s},r=function(t,n,e){if(null==e&&(e=f),-1!==(n=t.indexOf(n)))return l(t,0,n,e),c(t,n,e)},o=function(t,n,e){var o,i,r,s,u;if(null==e&&(e=f),!(i=t.slice(0,n)).length)return i;for(p(i,e),r=0,s=(u=t.slice(n)).length;r<s;r++)o=u[r],h(i,o,e);return i.sort(e).reverse()},i=function(t,n,e){var o,i,r,s,u,a,h,l,c;if(null==e&&(e=f),10*n<=t.length){if((r=t.slice(0,n).sort(e)).length)for(i=r[r.length-1],s=0,a=(h=t.slice(n)).length;s<a;s++)e(o=h[s],i)<0&&(y(r,o,0,null,e),r.pop(),i=r[r.length-1]);return r}for(p(t,e),c=[],u=0,l=v(n,t.length);0<=l?u<l:l<u;0<=l?++u:--u)c.push(d(t,e));return c},l=function(t,n,e,o){var i,r,s;for(null==o&&(o=f),i=t[e];n<e&&o(i,r=t[s=e-1>>1])<0;)t[e]=r,e=s;return t[e]=i},c=function(t,n,e){var o,i,r,s,u;for(null==e&&(e=f),i=t.length,r=t[u=n],o=2*n+1;o<i;)(s=o+1)<i&&!(e(t[o],t[s])<0)&&(o=s),t[n]=t[o],o=2*(n=o)+1;return t[n]=r,l(t,u,n,e)},s.push=n=function(t,n,e){return null==e&&(e=f),t.push(n),l(t,0,t.length-1,e)},s.pop=d,s.replace=e,s.pushpop=h,s.heapify=p,s.updateItem=r,s.nlargest=o,s.nsmallest=i,s.prototype.push=function(t){return n(this.nodes,t,this.cmp)},s.prototype.pop=function(){return d(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},s.prototype.replace=function(t){return e(this.nodes,t,this.cmp)},s.prototype.pushpop=function(t){return h(this.nodes,t,this.cmp)},s.prototype.heapify=function(){return p(this.nodes,this.cmp)},s.prototype.updateItem=function(t){return r(this.nodes,t,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return 0===this.nodes.length},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var t=new s;return t.nodes=this.nodes.slice(0),t},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,t=s,g=[],void 0!==(g="function"==typeof(T=function(){return t})?T.apply(x,g):T)&&(u.exports=g)}.call(this)}},i={};var t=function t(n){var e=i[n];return void 0===e&&(e=i[n]={exports:{}},o[n].call(e.exports,e,e.exports,t)),e.exports}(824);EasyStar=t})();