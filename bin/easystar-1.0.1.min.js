var EasyStar;(()=>{var o={824:(t,n,e)=>{var L=e(416),I=e(296),C=e(543),D=e(272),e=e(528),G=e.calculateDirection,_=e.STOP,o=e.TOP,r=e.TOP_RIGHT,i=e.RIGHT,s=e.BOTTOM_RIGHT,a=e.BOTTOM,u=e.BOTTOM_LEFT,c=e.LEFT,l=e.TOP_LEFT,h=e.compressPath,p=e.smoothenPath,f=e.expandPath,e=e.interpolate,R=1;t.exports={EasyStar:function(){function i(t,n,e,o,r){var i=T[o]&&T[o][e];return void 0!==i?0<(G(p,f,r.x-e,r.y-o,M)&i):(r=H(e),i=w(o),-1!==n.indexOf(t[i][r]))}function s(t,n){return t=H(t),n=w(n),r[n]&&r[n][t]||o[h[n][t]]}function a(t,n){return e[1+n][1+t]}function l(t,n,e,o,r){if(void 0!==t.nodeHash[e]){if(void 0!==t.nodeHash[e][n])return t.nodeHash[e][n]}else t.nodeHash[e]={};a=n,c=e,s=t.endX,u=t.endY,l=Math.abs(a-s),i=Math.abs(c-u),M&&(l=Math.min(l,a-s+p,s-a+p),i=Math.min(i,c-u+f,u-c+f));var i,s=P?S*E(l,i):S*F(l,i),a=_,u=0,c=null!==o?(a=G(p,f,n-o.x,e-o.y,M),o.directionFromParent!==a&&(u=A),o.costSoFar+r+u):0,l=new C(o,n,e,c,s,a);return t.nodeHash[e][n]=l}function u(t,n,e,o,r){var e=H(n.x+e),o=w(n.y+o);void 0!==x[o]&&void 0!==x[o][e]||!i(h,y,e,o,n)||(void 0===(e=l(t,e,o,n,r)).list?(e.list=1,t.openList.push(e)):n.costSoFar+r<e.costSoFar&&(e.costSoFar=n.costSoFar+r,e.parent=n,t.openList.updateItem(e)))}var h,p,f,c,y,d=Math.SQRT2,v=!1,x={},o={},r={},T={},g=!0,m={},b=[],O=Number.MAX_VALUE,P=!1,M=!1,A=0,S=1,F=D.manhattan,E=D.octile,e=[[1,1,1],[1,0,1],[1,1,1]],H=(this.setAcceptableTiles=function(t){t instanceof Array?y=t:!Number.isNaN(parseFloat(t))&&Number.isFinite(t)&&(y=[t])},this.enableSync=function(){v=!0},this.disableSync=function(){v=!1},this.enableDiagonals=function(){P=!0},this.disableDiagonals=function(){P=!1},this.enableTorus=function(){M=!0},this.disableTorus=function(){M=!1},this.setGrid=function(t){p=(h=t)[0].length,f=t.length;for(var n=0;n<f;n++)for(var e=0;e<p;e++)o[h[n][e]]||(o[h[n][e]]=1)},this.setTileCost=function(t,n){o[t]=n},this.setAdditionalPointCost=function(t,n,e){void 0===r[n]&&(r[n]={}),r[n][t]=e},this.removeAdditionalPointCost=function(t,n){void 0!==r[n]&&delete r[n][t]},this.removeAllAdditionalPointCosts=function(){r={}},this.setDirectionalCondition=function(t,n,e){void 0===T[n]&&(T[n]={}),T[n][t]=e.map(function(t){return 0|t}).reduce(function(t,n){return t|n},0)},this.removeAllDirectionalConditions=function(){T={}},this.setIterationsPerCalculation=function(t){O=t},this.setHeuristics=function(t,n){F=t||D.manhattan,E=n||D.euclidean},this.setDirectionCosts=function(t){e=t||e},this.avoidAdditionalPoint=function(t,n){void 0===x[n]&&(x[n]={}),x[n][t]=1},this.stopAvoidingAdditionalPoint=function(t,n){void 0!==x[n]&&delete x[n][t]},this.enableCornerCutting=function(){g=!0},this.disableCornerCutting=function(){g=!1},this.stopAvoidingAllAdditionalPoints=function(){x={}},this.setHeuristicsFactor=function(t){S=t},this.setTurnPenalty=function(t){A=t},function(t){return M?(t+p)%p:t}),w=function(t){return M?(t+f)%f:t};this.findPath=function(t,n,e,o,r){function i(t){v?r(t):setTimeout(function(){r(t)})}t=H(t),n=w(n),e=H(e),o=w(o);if(void 0===y)throw new Error("You can't set a path without first calling setAcceptableTiles() on EasyStar.");if(void 0===h)throw new Error("You can't set a path without first calling setGrid() on EasyStar.");if(t<0||n<0||e<0||o<0||p-1<t||f-1<n||p-1<e||f-1<o)throw new Error("Your start or end point is outside the scope of your grid.");if(t===e&&n===o)i([{x:t,y:n}]);else{for(var s,a=h[o][e],u=!1,c=0;c<y.length;c++)if(a===y[c]){u=!0;break}if(!1!==u)return(s=new I).openList=new L(function(t,n){return t.bestGuessDistance()-n.bestGuessDistance()}),s.isDoneCalculating=!1,s.nodeHash={},s.startX=t,s.startY=n,s.endX=e,s.endY=o,s.callback=i,s.openList.push(l(s,s.startX,s.startY,null,1)),t=R++,m[t]=s,b.push(t),t;i(null)}},this.cancelPath=function(t){return t in m&&(delete m[t],!0)},this.calculate=function(){if(0!==b.length&&void 0!==h&&void 0!==y)for(c=0;c<O;c++){if(0===b.length)return;v&&(c=0);var t=b[0],n=m[t];if(void 0===n)b.shift();else if(0===n.openList.size())n.callback(null),delete m[t],b.shift();else{var e=n.openList.pop();if(n.endX===e.x&&n.endY===e.y){for(var o=[],r=(o.push({x:e.x,y:e.y}),e.parent);null!=r;)o.push({x:r.x,y:r.y}),r=r.parent;o.reverse(),n.callback(o),delete m[t],b.shift()}else((e.list=0)<e.y||M)&&(t=a(0,-1),u(n,e,0,-1,+t*s(e.x,e.y-1))),(e.x<p-1||M)&&(t=a(1,0),u(n,e,1,0,+t*s(e.x+1,e.y))),(e.y<f-1||M)&&(t=a(0,1),u(n,e,0,1,+t*s(e.x,e.y+1))),(0<e.x||M)&&(t=a(-1,0),u(n,e,-1,0,+t*s(e.x-1,e.y))),P&&((0<e.x&&0<e.y||M)&&(g||i(h,y,e.x,e.y-1,e)&&i(h,y,e.x-1,e.y,e))&&(t=a(-1,-1),u(n,e,-1,-1,d*t*s(e.x-1,e.y-1))),(e.x<p-1&&e.y<f-1||M)&&(g||i(h,y,e.x,e.y+1,e)&&i(h,y,e.x+1,e.y,e))&&(t=a(1,1),u(n,e,1,1,d*t*s(e.x+1,e.y+1))),(e.x<p-1&&0<e.y||M)&&(g||i(h,y,e.x,e.y-1,e)&&i(h,y,e.x+1,e.y,e))&&(t=a(1,-1),u(n,e,1,-1,d*t*s(e.x+1,e.y-1))),0<e.x&&e.y<f-1||M)&&(g||i(h,y,e.x,e.y+1,e)&&i(h,y,e.x-1,e.y,e))&&(t=a(-1,1),u(n,e,-1,1,d*t*s(e.x-1,e.y+1)))}}}},STOP:_,TOP:o,TOP_RIGHT:r,RIGHT:i,BOTTOM_RIGHT:s,BOTTOM:a,BOTTOM_LEFT:u,LEFT:c,TOP_LEFT:l,Heuristics:D,calculateDirection:G,compressPath:h,smoothenPath:p,expandPath:f,interpolate:e}},272:t=>{t.exports={manhattan:function(t,n){return t+n},euclidean:function(t,n){return Math.sqrt(t*t+n*n)},octile:function(t,n){var e=Math.SQRT2-1;return t<n?e*t+n:e*n+t},chebyshev:function(t,n){return Math.max(t,n)}}},296:t=>{t.exports=function(){this.pointsToAvoid={},this.startX=void 0,this.callback=void 0,this.startY=void 0,this.endX=void 0,this.endY=void 0,this.nodeHash={},this.openList=void 0}},543:t=>{function n(t,n,e,o,r,i){this.parent=t,this.x=n,this.y=e,this.costSoFar=o,this.simpleDistanceToTarget=r,this.directionFromParent=i}n.prototype.bestGuessDistance=function(){return this.costSoFar+this.simpleDistanceToTarget},t.exports=n},528:t=>{function x(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,n){var e;if(t)return"string"==typeof t?o(t,n):"Map"===(e="Object"===(e=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:e)||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?o(t,n):void 0}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,o=new Array(n);e<n;e++)o[e]=t[e];return o}function T(t,n,e,o){for(var r,i=t,s=n,t=Math.abs,a=[],u=t(e-i),c=t(o-s),l=i<e?1:-1,h=s<o?1:-1,p=u-c;a.push({x:i,y:s}),i!==e||s!==o;)-c<(r=2*p)&&(p-=c,i+=l),r<u&&(p+=u,s+=h);return a}t.exports={STOP:0,TOP:1,TOP_RIGHT:2,RIGHT:4,BOTTOM_RIGHT:8,BOTTOM:16,BOTTOM_LEFT:32,LEFT:64,TOP_LEFT:128,calculateDirection:function(n,e,o,r,i){function s(t,n,e){return t===e||i&&(1-n)*t===e}function t(t){return s(t,n,o)}function a(t){return s(t,e,r)}return t(0)&&a(-1)?1:t(1)&&a(-1)?2:t(1)&&a(0)?4:t(1)&&a(1)?8:t(0)&&a(1)?16:t(-1)&&a(1)?32:t(-1)&&a(0)?64:t(-1)&&a(-1)?128:0===o&&0===r?0:0===o?0<r?16:1:0===r?0<o?4:64:0<r?0<o?8:32:0<o?2:128},interpolate:T,expandPath:function(t){var n,e,o,r,i,s,a=[],u=t.length;if(!(u<2)){for(i=0;i<u-1;++i)for(n=t[i],e=t[i+1],r=(o=T(n.x,n.y,e.x,e.y)).length,s=0;s<r-1;++s)a.push(o[s]);a.push(t[u-1])}return a},smoothenPath:function(n,t,e,o){for(var r=x(t),i=1;i<r.length-1;i++)for(var s=(a=r[i-1]).x,a=a.y,u=(c=r[i]).x,c=c.y,l=u-s,h=c-a,p={x:u+l,y:c+h},f=i+2;f<r.length;f++){var y=r[f],d=p.x-y.x,v=p.y-y.y;if(!(p.x!==y.x&&p.y!==y.y&&Math.abs(d)!==Math.abs(v)||Math.sign(l*h)*Math.sign(d*v)==-1||0===Math.sign(l*h)&&0===Math.sign(d*v))){d=T(p.x,p.y,y.x,y.y);if(d.length===f-i&&d.every(function(t){return e.includes(n[t.y][t.x])})){r.splice.apply(r,[i+1,d.length].concat(x(d)));break}}}return r},compressPath:function(t){if(t.length<3)return t;var n,e,o,r,i,s=[],a=t[0].x,u=t[0].y,c=t[1].x,l=t[1].y,h=c-a,p=l-u,f=Math.sqrt(h*h+p*p);for(h/=f,p/=f,s.push({x:a,y:u}),i=2;i<t.length;i++)n=c,e=l,o=h,r=p,h=(c=t[i].x)-n,p=(l=t[i].y)-e,p/=f=Math.sqrt(h*h+p*p),(h/=f)===o&&p===r||s.push({x:n,y:e});return s.push({x:c,y:l}),s}}},416:(t,n,e)=>{t.exports=e(328)},328:function(a,x){var T,g;!function(){var t,p,u,f,y,n,c,e,d,v,o,r,i,l,h;function s(t){this.cmp=null!=t?t:p,this.nodes=[]}u=Math.floor,v=Math.min,p=function(t,n){return t<n?-1:n<t?1:0},d=function(t,n,e,o,r){var i;if(null==r&&(r=p),(e=null==e?0:e)<0)throw new Error("lo must be non-negative");for(null==o&&(o=t.length);e<o;)r(n,t[i=u((e+o)/2)])<0?o=i:e=i+1;return[].splice.apply(t,[e,e-e].concat(n)),n},y=function(t,n){var e,o;return null==n&&(n=p),e=t.pop(),t.length?(o=t[0],t[0]=e,h(t,0,n)):o=e,o},e=function(t,n,e){var o;return null==e&&(e=p),o=t[0],t[0]=n,h(t,0,e),o},c=function(t,n,e){var o;return null==e&&(e=p),t.length&&e(t[0],n)<0&&(n=(o=[t[0],n])[0],t[0]=o[1],h(t,0,e)),n},f=function(e,t){var n,o,r,i,s,a;for(null==t&&(t=p),s=[],o=0,r=(i=function(){a=[];for(var t=0,n=u(e.length/2);0<=n?t<n:n<t;0<=n?t++:t--)a.push(t);return a}.apply(this).reverse()).length;o<r;o++)n=i[o],s.push(h(e,n,t));return s},i=function(t,n,e){if(null==e&&(e=p),-1!==(n=t.indexOf(n)))return l(t,0,n,e),h(t,n,e)},o=function(t,n,e){var o,r,i,s,a;if(null==e&&(e=p),!(r=t.slice(0,n)).length)return r;for(f(r,e),i=0,s=(a=t.slice(n)).length;i<s;i++)o=a[i],c(r,o,e);return r.sort(e).reverse()},r=function(t,n,e){var o,r,i,s,a,u,c,l,h;if(null==e&&(e=p),10*n<=t.length){if((i=t.slice(0,n).sort(e)).length)for(r=i[i.length-1],s=0,u=(c=t.slice(n)).length;s<u;s++)e(o=c[s],r)<0&&(d(i,o,0,null,e),i.pop(),r=i[i.length-1]);return i}for(f(t,e),h=[],a=0,l=v(n,t.length);0<=l?a<l:l<a;0<=l?++a:--a)h.push(y(t,e));return h},l=function(t,n,e,o){var r,i,s;for(null==o&&(o=p),r=t[e];n<e&&o(r,i=t[s=e-1>>1])<0;)t[e]=i,e=s;return t[e]=r},h=function(t,n,e){var o,r,i,s,a;for(null==e&&(e=p),r=t.length,i=t[a=n],o=2*n+1;o<r;)(s=o+1)<r&&!(e(t[o],t[s])<0)&&(o=s),t[n]=t[o],o=2*(n=o)+1;return t[n]=i,l(t,a,n,e)},s.push=n=function(t,n,e){return null==e&&(e=p),t.push(n),l(t,0,t.length-1,e)},s.pop=y,s.replace=e,s.pushpop=c,s.heapify=f,s.updateItem=i,s.nlargest=o,s.nsmallest=r,s.prototype.push=function(t){return n(this.nodes,t,this.cmp)},s.prototype.pop=function(){return y(this.nodes,this.cmp)},s.prototype.peek=function(){return this.nodes[0]},s.prototype.contains=function(t){return-1!==this.nodes.indexOf(t)},s.prototype.replace=function(t){return e(this.nodes,t,this.cmp)},s.prototype.pushpop=function(t){return c(this.nodes,t,this.cmp)},s.prototype.heapify=function(){return f(this.nodes,this.cmp)},s.prototype.updateItem=function(t){return i(this.nodes,t,this.cmp)},s.prototype.clear=function(){return this.nodes=[]},s.prototype.empty=function(){return 0===this.nodes.length},s.prototype.size=function(){return this.nodes.length},s.prototype.clone=function(){var t=new s;return t.nodes=this.nodes.slice(0),t},s.prototype.toArray=function(){return this.nodes.slice(0)},s.prototype.insert=s.prototype.push,s.prototype.top=s.prototype.peek,s.prototype.front=s.prototype.peek,s.prototype.has=s.prototype.contains,s.prototype.copy=s.prototype.clone,t=s,g=[],void 0!==(g="function"==typeof(T=function(){return t})?T.apply(x,g):T)&&(a.exports=g)}.call(this)}},r={};var t=function t(n){var e=r[n];return void 0===e&&(e=r[n]={exports:{}},o[n].call(e.exports,e,e.exports,t)),e.exports}(824);EasyStar=t})();